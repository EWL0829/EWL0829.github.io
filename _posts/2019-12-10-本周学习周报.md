---
layout:     post
title:      2019-12-10-本周学习周报
subtitle:   学习周报
date:       2019-12-10
author:     EWL
header-img: img/about-EWL-gentle.jpg
catalog: true
tags:
    - 前端
    - JavaScript
    - 基础
---

## 学习总览
**JavaScript**
- this
- 闭包
- apply/call/bind

**CSS**
- grid布局

**HTTP**
- http协议初探

----

## 学习内容

### this

### 闭包

### apply/call/bind

### grid布局

#### 理解网格布局
网格，就是一系列相交的水平线与垂直线，组成了网格的列与行。当我们想定义某一个元素的位置时，只需要按照一定的规则将元素的位置设置到对应的行和列上即可，就像横坐标和纵坐标结合起来就能确定一个点一样，在网格布局中这种思想依旧适用。

但是，我们会发现这种布局方式看起来似曾相识，很像表格布局，但是表格布局不是已经被淘汰了吗，grid布局相对比table表格布局而言又有什么优势呢？

**表格布局的劣势**
- 样板代码繁多冗杂
- 修改代码相对繁琐
- 页面刷新很慢，性能很差

**grid布局的优势与兼容性**
- 性能较好
- 固定或弹性的轨道尺寸，属于二维布局（对比flexBox就属于一维布局，以轴线为准）
- 可以定位容器中的子项目
- 可以额外创建行列来保存内容
- 对齐控制灵活
- 可以控制重叠的内容，调整z轴上的显示优先级（有点类似于z-index属性）

当前grid布局的兼容性已经很好了，具体可以[点击查看](https://caniuse.com/#search=grid)

**grid与flex谁更好呢**
- flex是一维布局，只能在一条直线上做子项目排列，无论是方向还是对齐方式又或者是溢出折行都是一维层面的问题；grid是在横纵两个方向去排列子项目，某种程度上可以保证子项目能位于任何我们想让它在的位置
- gird并非用来代替flex布局，grid只是比flex高一维度而已，两者结合起来效果更好

**grid布局相关概念**
- 网格容器（grid container）
- 网格项（grid item）
- 网格线（grid line）
- 网格轨道（grid track）
- 网格单元（grid cell）
- 网格区域（grid area）

网格容器是应用了```display: grid```的元素，是所有网格项的父元素。

网格项是网格容器的子元素。

网格线组成了网格项的分界线，但是网格线在定义网格容器的时候就已经定义了和网格项没有什么固定的关系。

网格轨道是两个相邻网格线之间的条状区域，可能是横向也可能是纵向，并且轨道的两边（纵向轨道的上下两边/横向轨道的左右两边）一定会紧贴网格容器边缘；前面提到网格线和网格项没有直接关系，而网格线组成的网格轨道自然也和网格项没有直接的关系。

网格单元是有两条相邻的列网格线和两条相邻的行网格线组成的，交叉形成一个矩形区域。（与网格项作对比的话，网格项是实际的DOM元素，而网格单元仅仅是一种概念上的东西，并不能从元素查找中找到实实在在的HTML元素）

网格区域是指任意四条横纵交错的网格线圈起来的一部分空间。

**grid新引入单位**
- fr
- gr

fr指剩余空间分配数，用于在一系列长度值中分配剩余空间，如果容器中已指定了多个部分，则剩余的空间根据各自的数字按比例分配。

gr指网格数，不在标准中。（网格布局还在完善中，没有完全定稿，所以这个单位不推荐在生产环境使用）


#### 网格布局容器相关属性

(1) display: grid/inline-grid/subgrid
grid用于生成块级网格容器，inline-grid用于生成行内块级网格容器，subgrid（**目前兼容性堪忧，基本都不支持，不推荐使用**）表示当前元素如果已经是网格项的话，使用该属性值会继承其父网格容器的行、列大小。

>补充：如果容器已经设置了网格布局，那么其网格项的以下几种属性不再生效：
> 1. columns
> 2. float
> 3. clear
> 4. vertical-align
> 5. 对子项的display设置inline-block/table-cell

(2) template
- grid-template-columns划分列数
- grid-template-rows划分行数

上述两个属性的属性值规则：
- 轨道大小（可以使用css长度单位，px/em等，也可使用百分比，或者分数fr）
- 网格线名称（任何名称均可）

示例如下：
```CSS
div {
  display: grid;
  grid-template-columns: 40px 50px auto 50px 40px;
  grid-template-rows: 25% 100px auto;
}
```

最终形成的效果就是：纵向会形成五列，从左到右宽度依次为40px/50px/(总宽度-其他四列)/50px/40px；横向会形成三行，从上到下高度依次是25%总高度/100px/(总高度-其他两行)

[参考demo](https://codepen.io/ewl0829/pen/RwNrOvq)

(3) gap
- grid-row-gap 网格项行间距
- grid-column-gap 网格项列间距

示例如下：
```CSS
div {
  display: grid;
  width: 300px;
  grid-template-columns: 50px 50px auto;
  grid-template-rows: repeat(4, 50px);
  grid-row-gap: 20px;
  grid-column-gap: 10px;  
}
```

最终形成的效果如图所示：
<img src="https://i.loli.net/2019/12/10/Ee4GLlgksNVHDBu.png" style="display: block;" width = "400" alt="图片名称" align=center />

(4) items
- justify-items 设置设置网格项内容的水平排布位置
- align-items 设置网格项内容的竖直排布位置
- place-items 同时设置以上两个属性，即简写形式

>Tips：此处需要再次强调，网格项和网格单元是不一样的，这里所有的属性值都是作用在网格项身上的，会影响网格项的排布位置

以上justify-items和align-items的可取属性值都是一样，包含的属性值有：start/end/center/stretch

示例如下：
```LESS
.grid-wrap {
  display: grid;
  width: 300px;
  height: 400px;
  grid-template-columns: 50px 50px auto;
  grid-template-rows: 50px 50px 60px auto 50px;
  grid-column-gap: 10px;
  grid-row-gap: 10px;
  // 可取的值：start/end/center/stretch
  justify-items: stretch;
  align-items: center;
  
  .grid-item {
    background: blue;
  }
}
```

最终形成的效果如图所示：
<img src="https://i.loli.net/2019/12/10/eaE8xqzIGVBjJ2P.png" style="display: block;" width = "400" alt="图片名称" align=center />

(5) content
- justify-content 设置整个内容区域在容器中的水平位置
- align-content 设置整个内容区域在容器中的竖直位置
- place-content 同时设置以上两个属性，即简写形式

(6) grid-auto
- grid-auto-columns 多余生成的网格列的列宽
- grid-auto-rows 多余生成的网格行的行高

有时候，一些项目的指定位置，在现有网格的外部。比如网格只有3列，但是某一个项目指定在第5行。这时，浏览器会自动生成多余的网格，以便放置项目。




